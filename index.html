<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sober Tracker ‚Äì Februar</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    body { font-family: 'Inter', sans-serif; }
  </style>

  <!-- PWA -->
  <link rel="manifest" href="./pwa/manifest.webmanifest">
  <meta name="theme-color" content="#0b1220">

  <!-- iOS "App-like" -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="./pwa/icon-192.png">
</head>

<body class="min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100">
  <!-- App Shell -->
  <div class="min-h-screen p-4 md:p-8 flex items-center justify-center">
    <div class="w-full max-w-4xl bg-white/90 dark:bg-slate-900/80 backdrop-blur rounded-3xl shadow-2xl border border-slate-200/60 dark:border-slate-800 p-6 md:p-10">

      <!-- Header -->
      <header class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">
          Sober Tracker ‚Äì Februar
        </h1>
        <p class="mt-2 text-slate-500 dark:text-slate-300 font-medium">
          2-Spieler ‚Ä¢ Room Code ‚Ä¢ Streaks ‚Ä¢ Monday-Milestones
        </p>
      </header>

      <!-- Content Root (hier rendert app.js sp√§ter die Screens rein) -->
      <main id="app">
        <!-- Fallback, falls JS nicht l√§dt -->
        <div class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950">
          <p class="font-semibold">App l√§dt‚Ä¶</p>
          <p class="text-sm text-slate-500 dark:text-slate-300 mt-1">
            Falls hier nichts passiert: Seite neu laden oder pr√ºfen, ob <code>app.js</code> vorhanden ist.
          </p>
        </div>
      </main>

      <!-- A2HS Overlay (iOS) -->
      <div id="a2hs" class="fixed inset-0 z-50 hidden items-end md:items-center justify-center p-4">
        <div class="w-full max-w-xl rounded-3xl border border-slate-200 dark:border-slate-800 bg-white/95 dark:bg-slate-900/95 backdrop-blur shadow-2xl p-5 md:p-6">
          <div class="flex items-start gap-3">
            <div class="text-3xl">üì≤</div>
            <div class="flex-1">
              <p class="text-lg font-extrabold">Als App installieren</p>
              <p class="mt-1 text-sm text-slate-600 dark:text-slate-300">
                Damit es sich wie eine echte App anf√ºhlt (Fullscreen + schneller Zugriff):
              </p>

              <ol class="mt-3 space-y-2 text-sm text-slate-700 dark:text-slate-200">
                <li class="flex gap-2">
                  <span class="font-bold">1.</span>
                  <span>Tippe unten auf <span class="font-semibold">Teilen</span> (<span class="inline-block">‚§¥Ô∏è</span>).</span>
                </li>
                <li class="flex gap-2">
                  <span class="font-bold">2.</span>
                  <span>W√§hle <span class="font-semibold">‚ÄûZum Home-Bildschirm‚Äú</span>.</span>
                </li>
                <li class="flex gap-2">
                  <span class="font-bold">3.</span>
                  <span>√ñffne danach die App vom Homescreen.</span>
                </li>
              </ol>

              <div class="mt-4 flex gap-2">
                <button id="a2hs-close"
                  class="flex-1 rounded-2xl px-4 py-3 font-bold bg-slate-900 text-white hover:opacity-90">
                  Okay
                </button>
                <button id="a2hs-later"
                  class="rounded-2xl px-4 py-3 font-semibold border border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800">
                  Sp√§ter
                </button>
              </div>

              <p class="mt-3 text-xs text-slate-400">
                Hinweis: iPhone zeigt kein automatisches Install-Popup ‚Äì das geht nur √ºber ‚ÄûTeilen‚Äú.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Mini -->
      <footer class="mt-8 text-center text-xs text-slate-400">
        Tipp: Auf iPhone in Safari ‚Üí Teilen ‚Üí ‚ÄûZum Home-Bildschirm‚Äú.
      </footer>

    </div>
  </div>

  <!-- App Logic -->
  <script type="module" src="./app.js"></script>

  <!-- Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./pwa/sw.js").catch(console.error);
    }
  </script>
</body>
</html>
